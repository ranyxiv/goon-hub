local redzlib = loadstring(game:HttpGet("https://raw.githubusercontent.com/tbao143/Library-ui/refs/heads/main/Redzhubui"))()

local Window = redzlib:MakeWindow({
    Title = "goon hub | 99 gozadas",
    SubTitle = "feito por urubu do pix",
    SaveFolder = "gugudada.lua"
})

Window:AddMinimizeButton({
    Button = { Image = "rbxassetid://71014873973869", BackgroundTransparency = 0 },
    Corner = { CornerRadius = UDim.new(35, 1) },
})

local player = game.Players.LocalPlayer
local runService = game:GetService("RunService")
local uis = game:GetService("UserInputService")

-- Variáveis globais
local infJumpEnabled = false
local noclip = false
local currentSpeed = 16

-- ==================================================
-- TAB 1 - PLAYER
-- ==================================================
local Tab1 = Window:MakeTab({"Player", "Cherry"})

-- Infinite Jump
Tab1:AddToggle({
    Name = "Infinite Jump",
    Default = false,
    Callback = function(v)
        infJumpEnabled = v
    end
})

uis.JumpRequest:Connect(function()
    if infJumpEnabled then
        local h = player.Character and player.Character:FindFirstChildOfClass("Humanoid")
        if h then h:ChangeState(Enum.HumanoidStateType.Jumping) end
    end
end)

-- WalkSpeed
local function applySpeed(humanoid)
    if humanoid and humanoid:IsA("Humanoid") then
        humanoid.WalkSpeed = currentSpeed
    end
end

player.CharacterAdded:Connect(function(char)
    local h = char:WaitForChild("Humanoid", 5)
    applySpeed(h)
end)

if player.Character then
    applySpeed(player.Character:FindFirstChildOfClass("Humanoid"))
end

Tab1:AddSlider({
    Name = "Speed",
    Min = 20,
    Max = 100,
    Increase = 1,
    Default = 20,
    Callback = function(Value)
        currentSpeed = math.clamp(tonumber(Value) or 16, 1, 100)
    end
})

-- Força a velocidade sempre
runService.Stepped:Connect(function()
    if player.Character then
        local h = player.Character:FindFirstChildOfClass("Humanoid")
        if h and h.WalkSpeed ~= currentSpeed then
            h.WalkSpeed = currentSpeed
        end
    end
end)

-- NoClip
runService.Stepped:Connect(function()
    if noclip and player.Character then
        for _, part in pairs(player.Character:GetDescendants()) do
            if part:IsA("BasePart") then
                part.CanCollide = false
            end
        end
    end
end)

Tab1:AddToggle({
    Name = "NoClip",
    Default = false,
    Callback = function(v)
        noclip = v
    end
})

-- ==================================================
-- TAB 2 - TELEPORT FIXO
-- ==================================================
local Tab2 = Window:MakeTab({"Teleport", "Map"})

Tab2:AddButton({
    Name = "TP para o Fogo",
    Callback = function()
        if player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
            player.Character.HumanoidRootPart.CFrame = CFrame.new(Vector3.new(0,0,0))
            print("Teleportado para o Fogo: 0,0,0")
        end
    end
})

-- ==================================================
-- TAB 3 - TP DINÂMICO
-- ==================================================
local Tab3 = Window:MakeTab({"TP Criado", "Dynamic"})
local createdTPButtons = {}
local createdTPCoords = {}
local tpCoordInput = nil

Tab3:AddTextBox({
    Name = "Digite Coordenada",
    Description = "Formato: x,y,z",
    PlaceholderText = "Ex: 10,5,30",
    Callback = function(Value)
        local x, y, z = string.match(Value, "([^,]+),([^,]+),([^,]+)")
        if x and y and z then
            tpCoordInput = Vector3.new(tonumber(x), tonumber(y), tonumber(z))
        else
            tpCoordInput = nil
            warn("Formato inválido! Use x,y,z")
        end
    end
})

Tab3:AddButton({
    Name = "Criar TP",
    Callback = function()
        if not tpCoordInput then
            warn("Nenhuma coordenada válida para criar TP!")
            return
        end

        local key = tostring(math.floor(tpCoordInput.X))..","..tostring(math.floor(tpCoordInput.Y))..","..tostring(math.floor(tpCoordInput.Z))
        if createdTPCoords[key] then
            warn("Essa coordenada já possui um botão!")
            return
        end

        local btn = Tab3:AddButton({
            Name = "TP para " .. key,
            Callback = function()
                if player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
                    player.Character.HumanoidRootPart.CFrame = CFrame.new(tpCoordInput)
                    print("Teleportado para:", tpCoordInput)
                end
            end
        })

        createdTPCoords[key] = true
        table.insert(createdTPButtons, btn)
    end
})

-- ==================================================
-- TAB 4 - TP PARA CHESTS (AUTO REFRESH 0.5s)
-- ==================================================
local Tab4 = Window:MakeTab({"Chests", "Farm"})
local chestButtons = {}

local function encontrarChests()
    local chests = {}
    local itemsFolder = workspace:FindFirstChild("Items")

    local chestNames = {
        ["Item Chest"] = "Baú Normal",
        ["Item Chest2"] = "Baú de Prata",
        ["Item Chest3"] = "Baú de Ouro",
        ["Item Chest4"] = "Baú de Rubi"
    }

    if itemsFolder then
        for _, item in pairs(itemsFolder:GetChildren()) do
            if chestNames[item.Name] then
                local part = item:IsA("BasePart") and item or item:FindFirstChildWhichIsA("BasePart")
                if part then
                    table.insert(chests, {
                        Nome = chestNames[item.Name],
                        Posicao = part.Position
                    })
                end
            end
        end
    end

    return chests
end

local function teleportarParaPosicao(posicao)
    if player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
        player.Character.HumanoidRootPart.CFrame = CFrame.new(posicao + Vector3.new(0, 3, 0))
    end
end

local function atualizarChests()
    for _, btn in pairs(chestButtons) do
        btn:Remove()
    end
    chestButtons = {}

    local chests = encontrarChests()

    for _, chest in ipairs(chests) do
        local btn = Tab4:AddButton({
            Name = chest.Nome,
            Callback = function()
                teleportarParaPosicao(chest.Posicao)
            end
        })
        table.insert(chestButtons, btn)
    end
end

task.spawn(function()
    while true do
        atualizarChests()
        task.wait(0.5)
    end
end)
